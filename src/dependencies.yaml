mediaease:
  apt: apt-transport-https rsync lsb-release curl wget imagemagick git gzip util-linux dnsutils dirmngr acl iptables-persistent software-properties-common psmisc gnupg2 ca-certificates gpg-agent iproute2 dos2unix nfs-common jq sudo locales debconf-utils net-tools build-essential bc automake make cmake checkinstall libnss3-tools nano zip unzip htop vnstat vnstati vsftpd subversion ssl-cert openssl libfcgi0ldbl libsqlite3-dev sqlite3 libtool libcppunit-dev libssl-dev fontconfig libfontconfig1 libfontconfig1-dev zlib1g-dev libbz2-dev libreadline-dev libcairo2-dev libcurl4-openssl-dev libgirepository1.0-dev llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev liblzma-dev python3 python3-apt python3-software-properties python3-wheel python3-psutil python3-pip python3-dev python3-all-dev python3-docopt python3-setuptools python3-venv expect dialog nftables autoconf-archive debian-keyring debian-archive-keyring libicu-dev php8.3-cli php8.3-fpm php8.3-dev php8.3 php8.3-curl php8.3-gd php8.3-igbinary php8.3-memcached php8.3-mbstring php8.3-msgpack php8.3-intl php8.3-opcache php8.3-xml php8.3-xmlrpc php8.3-zip php8.3-sqlite3 php8.3-bcmath php8.3-imagick php-pear caddy nodejs equivs
  # bookworm:
  #   apt: dnsutils
  # noble:
  #   apt: dirmngr
  external:
    - composer:
        install: |
          EXPECTED_CHECKSUM="$(php -r 'copy("https://composer.github.io/installer.sig", "php://stdout");')"
          php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
          ACTUAL_CHECKSUM="$(php -r "echo hash_file('sha384', 'composer-setup.php');")"

          if [ "$EXPECTED_CHECKSUM" != "$ACTUAL_CHECKSUM" ]
          then
              >&2 echo 'ERROR: Invalid installer checksum'
              rm composer-setup.php
              #exit 1
          fi

          php composer-setup.php --quiet
          RESULT=$?
          rm composer-setup.php
          mv composer.phar /usr/local/bin/composer
          exit $RESULT
    - symfony:
        install: |
          wget https://get.symfony.com/cli/installer -qO - | bash >/dev/null 2>&1
          cp -pR /root/.symfony5/bin/symfony /usr/local/bin/symfony
          chmod +x /usr/local/bin/symfony
    - caddy:
        install: |
          mkdir -p /root/.mediaease/caddy
          cp -pR /etc/caddy/Caddyfile /root/.mediaease/caddy/Caddyfile.bak
          mkdir -p /etc/caddy/softwares
          CADDYFILE_OWNER=$(stat -c '%U:%G' /etc/caddy/Caddyfile)
          chown -R $CADDYFILE_OWNER /etc/caddy
    - pnpm:
        install: |
          PNPM_BIN="/usr/local/bin/pnpm"
          ROOT_PNPM="/root/.local/share/pnpm/"
          wget -qO- https://get.pnpm.io/install.sh | sh
          for binary in pnpm pnpx; do
            if [ -f "${ROOT_PNPM}/${binary}" ]; then
              [[ -f "${ROOT_PNPM}/${binary}" && -x "${ROOT_PNPM}/${binary}" ]] || chmod +x "${ROOT_PNPM}/${binary}" || echo "Failed to set executable permissions for ${PNPM_BIN}/${binary}"
              mv "${ROOT_PNPM}/${binary}" "/usr/local/bin/${binary}" || echo "Failed to move ${PNPM_BIN}/${binary} to /usr/local/bin/${binary}"
            fi
          done
          rm -rf "${ROOT_PNPM}" || echo "Failed to remove ${ROOT_PNPM}"
airsonic:
  apt: oracle-java17-installer openjdk-17-jre oracle-java17-set-default ffmpeg
autodl:
  apt: irssi screen libarchive-zip-perl libnet-ssleay-perl libhtml-parser-perl libxml-libxml-perl libjson-perl libjson-xs-perl libxml-libxslt-perl
autoscan:
  apt: snapd
bazarr:
  apt: git libxml2-dev libxmlsec1-dev liblzma-dev python3-pip python3-venv
calibre:
  apt: python3-pip python3-venv qtbase5-dev qttools5-dev-tools libqt5svg5-dev libopengl0
deluge:
  apt: checkinstall intltool libtool libboost-dev libboost-system-dev libboost-chrono-dev libboost-random-dev libboost-python-dev git intltool closure-compiler python3-pip python3-libtorrent python3-geoip python3-dbus  python3-gi python3-gi-cairo gir1.2-gtk-3.0 gir1.2-appindicator3 python3-pygame libnotify4 librsvg2-common xdg-utils
duplicati:
  apt: mono-devel
fail2ban:
  apt: sendmail-bin sendmail
filebot:
  apt: openjdk-11-jdk mediainfo libchromaprint-tools
flaresolverr:
  apt: libdbus-glib-1-2 libxtst6 libx11-xcb1 libgtk-3-0 libasound2 default-jre-headless xvfb chromium
flexget:
  apt: python3-pip python3-venv
flood:
  external:
    - pnpm:
        install: |
          pnpm add -g npm node-gyp npm-check-updates
grafana:
  apt: adduser libfontconfig1 libfontconfig1-dev python3 python3-pip python3-psutil python3-docopt influxdb telegraf fluent-bit loki promtail smartmontools nvme-cli
headphones:
  apt: nodejs python3-pip python3-venv
jellyfin:
  apt: nasm libx265-dev libgnutls28-dev libx264-dev libxml2-dev
komga:
  apt: openjdk-11-jre libsqlite3-dev sqlite3
lazylibrarian:
  apt: python3-dev python3-pip python3-openssl python3-setuptools python3-venv
lidarr:
  apt: mediainfo libchromaprint-tools
medusa:
  apt: openssl
mylar3:
  apt: python3-dev python3-pip python3-openssl python3-setuptools rsync
netdata:
  apt: libsqlite3-dev libgd-dev
nextcloud:
  apt: libxml2-dev php8.3 php8.3-cli php8.3-curl php8.3-fpm php8.3-gd php-geoip php-json php8.3-mbstring php8.3-msgpack php8.3-mysql php8.3-opcache php8.3-xml php8.3-xmlrpc php8.3-zip php-gd php8.3-intl php-intl php8.3-bcmath php8.3-gmp php8.3-imagick php8.3-sqlite3
novnc:
  apt: expect xfce4 xfce4-goodies xfonts-base dbus-x11 xinit xserver-xorg xserver-xorg-legacy x11-xserver-utils tightvncserver fonts-noto firefox-esr autocutsel
nzbget:
  apt: rar par2 libncurses-dev libxml2-dev libboost-json1.81-dev
nzbhydra2:
  apt: oracle-java17-installer openjdk-17-jre oracle-java17-set-default
ombi:
  apt: libunwind8 libicu-dev libcurl4-openssl-dev screen sqlite3
overseerr:
  apt: nodejs libsqlite3-dev sqlite3
plex_debrid:
  apt: fuse3 libfuse3-dev python3-dev python3-pip python3-venv xmlstarlet
  external:
    - rclone_rd:
        install: |
          wget https://github.com/itsToggle/rclone_RD/releases/download/v1.58.1-rd.2.2/rclone-linux -O /usr/local/bin/rclone_rd
          chmod +x /usr/local/bin/rclone_rd
qbittorrent:
  apt: libboost-dev libboost-system-dev libboost-chrono-dev libboost-random-dev libboost-python-dev qtbase5-dev qttools5-dev-tools libqt5svg5-dev libgeoip-dev
  external:
    - qt6: |
        curl -L -O https://download.qt.io/official_releases/online_installers/qt-unified-linux-x64-online.run && \
        chmod u+x qt-unified-linux-x64-online.run
        ./qt-unified-linux-x64-online.run \
          --accept-licenses \
          --default-answer \
          --confirm-command install \
        qt.qt6.652.gcc_64
quota:
  apt: quota
radarr:
  apt: mediainfo
radarr4k:
  apt: mediainfo
rclone:
  apt: fuse3 libfuse3-dev
readarr:
  apt: sqlite3
requestrr:
  apt: sqlite3 gawk
rtorrent:
  apt: subversion screen sysstat comerr-dev dstat automake libtool libcppunit-dev pkg-config libsigc++-2.0-dev curl libncurses5-dev libncursesw5-dev yasm fontconfig libfontconfig1 libfontconfig1-dev mediainfo rar libcurl4-openssl-dev checkinstall autoconf-archive
rutorrent:
  apt: sox geoip-database ffmpeg p7zip-full
sabnzbd:
  apt: par2 libffi-dev musl-dev cargo nice ionice notify-osd
  python: idna cheetah3 configobj cryptography feedparser cherrypy chardet portend notify2 sabyenc3
seedcross:
  apt: expect
sickchill:
  apt: git openssl rar python3-venv
sickgear:
  apt: curl git libsqlite3-dev libbz2-dev libreadline-dev python3-venv
sonarr:
  apt: referenceassemblies-pcl ca-certificates-mono mono-devel mediainfo sqlite3
sonarr4k:
  apt: referenceassemblies-pcl ca-certificates-mono mono-devel mediainfo sqlite3
subsonic:
  apt: openjdk-11-jre ffmpeg
tautulli:
  apt: git python3-pkg-resources
thelounge:
  apt: nodejs
transmission:
  apt: nodejs qttools5-dev libnatpmp-dev libb64-dev libgtkmm-3.0-dev gettext automake autoconf libtool pkg-config intltool libicu-dev libcurl4-openssl-dev libglib2.0-dev libevent-dev libminiupnpc-dev libgtk-3-dev libayatana-appindicator3-dev libminiupnpc-dev libqt5svg5-dev
vpn:
  apt: expect openssl ca-certificates libcap-ng-dev libpam0g-dev libudev-dev libsystemd-dev libnl-genl-3-dev liblz4-dev python3-docutils
webconsole:
  apt: jq
whisparr:
  apt: referenceassemblies-pcl ca-certificates-mono mono-devel mediainfo sqlite3
x2go:
  apt: xfce4 xfce4-terminal mate-desktop-environment x2gomatebindings firefox-esr
znc:
  apt: bc automake make cmake checkinstall
