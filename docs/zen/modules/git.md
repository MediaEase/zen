# modules/git.sh

## Overview

Contains a library of common functions used in the MediaEase project.

## Index

* [zen::git::clone](#zengitclone)

* [zen::git::get_release](#zengitgetrelease)

* [zen::git::download_folder](#zengitdownloadfolder)

* [zen::git::tree](#zengittree)

* [zen::git::download_from_binaries](#zengitdownloadfrombinaries)


## Git Functions

The following functions handle Git operations.

### zen::git::clone

This function clones a Git repository from a given URL into a specified directory.
It checks if the directory already exists to avoid re-cloning. Optionally, a specific branch can be cloned.

#### Arguments

* **$1** (string): Full URL of the Git repository to clone.
* **$2** (string): Target directory where the repository will be cloned.
* **$3** (string): Specific branch to clone (optional).
* **$4** (bool): Recursively clone submodules (optional).

#### Exit codes

* **0**: on successful cloning.
* **1**: on failure.

#### Output on stdout

* Informs about the cloning process and results.

### zen::git::get_release

This function downloads and extracts a specific release (stable or prerelease) from a GitHub repository.
It supports various file types for the release archive and sets appropriate permissions for the extracted files.

> [!TIP]
> Check the release file type (alpha, beta, rc, ...) to ensure it is supported before downloading.

#### Arguments

* **$1** (string): Directory where the release will be extracted.
* **$2** (string): Full URL of the GitHub repository.
* **$3** (bool): Retrieve a prerelease (true) or stable release (false).
* **$4** (string): Name or pattern of the release file to be retrieved.

#### Exit codes

* **0**: on successful retrieval and extraction.
* **1**: on failure.

#### Output on stdout

* Details the process of downloading and extracting the release.

### zen::git::download_folder

This function downloads a specified folder from a given GitHub repository and saves it to a local path.

#### Arguments

* **$1** (string): Local path where the file should be saved.
* **$2** (string): Name of the repository (e.g., "git/core").
* **$3** (string): Branch of the repository to download from (default: "main").
* **$4** (string): Path to the remote folder in the repository.

#### Exit codes

* **0**: on successful download.
* **1**: on failure.

#### Output on stdout

* Informs about the downloading process and results.

### zen::git::tree

This function lists the files in a specified repository and branch using the GitHub API.

> [!TIP]
> Use appropriate filters to list only the files you are interested in.

#### Arguments

* **$1** (string): Remote path to the directory in the repository.
* **$2** (string): Name of the repository (e.g., "MediaEase/binaries").
* **$3** (string): Branch name (e.g., "main").

#### Exit codes

* **0**: on successful retrieval and listing.
* **1**: on failure.

#### Output on stdout

* Lists the files in the specified directory.

### zen::git::download_from_binaries

This function downloads a file from the MediaEase binaries repository and saves it to a local path.
Supports partial name matching via the GitHub API if an exact match is not provided.
If multiple versions are available and no version is provided, it will download the latest version.

#### Arguments

* **$1** (string): Partial or full name of the file to download.
* **$2** (string): Version of the file to download (optional).
* **$3** (string): Branch of the repository to download from (default: "main").

#### Exit codes

* **0**: on successful download.
* **1**: on failure.

#### Output on stdout

* Informs about the downloading process and results.

---
This file was auto-generated by [shdoc](https://github.com/MediaEase/shdoc)
