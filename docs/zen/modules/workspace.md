# modules/workspace.sh

A library for managing Python virtual environments.

## Overview

Contains a library of functions used in the MediaEase Project for managing virtual environments.

## Index

* [zen::workspace::venv::create](#zenworkspacevenvcreate)

* [zen::workspace::venv::build](#zenworkspacevenvbuild)

* [zen::workspace::venv::remove](#zenworkspacevenvremove)

* [zen::workspace::venv::update](#zenworkspacevenvupdate)

* [zen::workspace::install_uv](#zenworkspaceinstalluv)


### zen::workspace::venv::create

This function creates a Python virtual environment in a specified filesystem path,
running the process under the context of a given user. If no user is specified, it defaults to `root`.
The function ensures the path is valid, navigates to it, and creates the virtual environment using `uv venv`.

> [!IMPORTANT]
> The virtual environment is created under the specified user context, so make sure the user has necessary permissions.

> [!CAUTION]
> Ensure the specified path is correct and accessible to avoid failures.

#### Arguments

* **$1** (string): The filesystem path where the virtual environment should be created.
* **$2** (string): (optional) The username under whose context the virtual environment should be created. Defaults to 'root' if not provided.

#### Exit codes

* **0**: On successful creation of the virtual environment.
* **1**: On failure due to missing path, directory change failure, or failure during virtual environment creation.

### zen::workspace::venv::build

This function activates a specified Python virtual environment and installs packages.
It reads a requirements file and optional pre-installed packages, installing them as required.
It reports on the success or failure of installing these packages.

> [!NOTE]
> Ensure that the path and requirements file are correct to avoid installation errors.

#### Arguments

* **$1** (string): The path to the virtual environment.
* **$2** (string): The path to the requirements file.
* **$3** (string): (optional) Username to execute commands under. Defaults to 'root' if not specified.

#### Exit codes

* **0**: Success in installing packages.
* **1**: Failure due to missing path or installation error.

### zen::workspace::venv::remove

This function removes an existing Python virtual environment from the specified filesystem path.
It ensures that the path is valid and performs the removal under the context of a specified user.
The function also handles the uninstallation of any packages installed within the virtual environment.

> [!NOTE]
> Make sure to backup any important data before removing the virtual environment.

#### Arguments

* **$1** (string): The filesystem path where the virtual environment should be removed.

#### Exit codes

* **0**: Success in removing the virtual environment.
* **1**: Failure due to missing path or directory change failure.

### zen::workspace::venv::update

Updates an existing Python virtual environment, installing or upgrading dependencies from the dependencies.yaml file and requirements.txt.

#### Arguments

* **$1** (string): The path to the project directory where the virtual environment is located.
* **$2** (string): (optional) Username to execute commands under. Defaults to 'root' if not specified.

#### Exit codes

* **0**: Success in updating the virtual environment.

### zen::workspace::install_uv

Installs the `uv` tool for the specified user if it is not already installed.

> [!NOTE]
> This function will ensure `uv` is available for the specified user, installing it if necessary.

#### Arguments

* **$1** (string): (optional) The username under whose context to install `uv`. Defaults to 'root' if not specified.

#### Exit codes

* **0**: Success in installing `uv` or if `uv` is already installed.

---
This file was auto-generated by [shdoc](https://github.com/MediaEase/shdoc)
